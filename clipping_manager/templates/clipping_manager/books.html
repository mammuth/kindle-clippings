{% extends "content.html" %}
{% load i18n urlparams %}
{% load staticfiles sekizai_tags %}

{% block content %}
    <div class="container mb-3 ">
        <div class="row">
            <div class="input-group col-10 pl-0">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
                        </svg>
                    </span>
                </div>
                <input type="text" class="form-control" id="search-book" placeholder="Search a book or an author" aria-label="Search a book">
            </div>
            <div class="col-2 pr-0">
                <div class="btn-group" style='float:right'>
                    <button class="btn btn-dark shadow-none" id="btn-gallery">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid-3x3-gap" viewBox="0 0 16 16" style="vertical-align: -2px">
                        <path d="M4 2v2H2V2h2zm1 12v-2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm0-5V7a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm0-5V2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm5 10v-2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm0-5V7a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm0-5V2a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zM9 2v2H7V2h2zm5 0v2h-2V2h2zM4 7v2H2V7h2zm5 0v2H7V7h2zm5 0h-2v2h2V7zM4 12v2H2v-2h2zm5 0v2H7v-2h2zm5 0v2h-2v-2h2zM12 1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-2zm-1 6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V7zm1 4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2z"/>
                      </svg>
                    </button>
                    <button class="btn btn-light shadow-none" id="btn-list">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16" style="vertical-align: -2px">
                            <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="book-view" class="gallery-view">
        <div class="list-header">
            <div></div>
            <div>{% trans "Title" %}</div>
            <div>{% trans "Author" %}</div>
            <div>{% trans "Clippings" %}</div>
        </div>
        {% for book in books %}
            <div class="book-element">
                <a href="{% url 'clipping_manager:browse'%}{% urlparams book=book.id content='' %}">
                    <div class="view-element">
                        <div class="book-cover">
                            <img src="https://www.rm.com.pl/pol_pl_Komandosi-Hitlera-e-book-1081_1.jpg" alt="#TODO: add description">
                        </div>
                        <div class="book-title">
                            {{book.title|default:"unknown"}}
                        </div>
                        <div class="book-author">
                            {{book.author_name|default:"unknown"}}
                        </div>
                        <div class="book-clippings-count">
                            {{book.clippings.all|length}}
                        </div>
                    </div>
                </a>
            </div>
        {% endfor %}
    </div>

    {% addtoblock "js" %}
        <script src="{% static 'js/helper-functions.js' %}"></script>
        <script>
            window.onload = function() {
                searchBook();
                switchView();
            };
        </script>
    {% endaddtoblock %}

{% endblock %}

{% render_block "js" %}